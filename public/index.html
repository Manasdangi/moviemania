<!DOCTYPE html>
<html>
<head>
    <!-- meta tag -->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Shadows+Into+Light&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Shadows+Into+Light&family=Sue+Ellen+Francisco&family=Truculenta:wght@300&display=swap" rel="stylesheet">
    <link rel = "icon" href =  "https://listimg.pinclipart.com/picdir/s/62-627283_metro-metropolitan-round-m-transport-moscow-dot-comments.png" type = "image/x-icon">
    <title>Movie Api</title>

<style>
  /* style */
* {
  /* for background color */
  font-family: "Nunito",sans-serif;
  background-image: url(https://help.nflxext.com/0af6ce3e-b27a-4722-a5f0-e32af4df3045_what_is_netflix_5_en.png);
  background-attachment: fixed;
  background-size: 100% 100%;
}
.maintitle{
   text-align: center;
   color: #ffffff;
   font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
   font-weight: bolder;
   font-size: 30px;
}
.maintitledesc{
  color: rgb(236, 239, 241);
  text-align: center;
  font-size: 20px;
  font-family: 'Shadows Into Light', cursive;
  font-family: 'Sue Ellen Francisco', cursive;
  font-family: 'Truculenta', sans-serif;
  letter-spacing: 1px;
  font-weight: 500;
  word-spacing: 2px;
  background: none;
}
/* collab class for both input form and movie list displaying field  */
.collab{
  /* using flex box property */
  display: flex;
  flex-direction: row;
  font-size: 30px;
  text-align: center;
  margin-left:16%;
  height:250px;
}
.input{
  width:42%;
  border:2px solid rgb(182, 160, 160);
  height:92%;
  font-family:"Nunito",sans-serif ;
  text-transform: lowercase;
  letter-spacing: 2px;
  color: white;
}

#genre,#lan{
 width: 100%;
 height: 43px;
 padding: 5px 10px;
 background: #dacece;
 border: none;
 border-radius: 1px;
 font-weight:bold;
 font-size: 15px;
 letter-spacing: 2px;
}
.tag{
  margin-top: 15px;
  text-transform: uppercase;
  font-size: 15px;
  font-family: 'Shadows Into Light', cursive;
 font-family: 'Sue Ellen Francisco', cursive;
 font-family: 'Truculenta', sans-serif;
 font-weight: 700;
 word-spacing: 3px;
 letter-spacing: 2px
}

.submit{
  color:blanchedalmond;
  background-color: rgb(72, 93, 76);
  width: 100%;
  font-family: "Nunito",sans-serif;
  font-weight: bold;
  height: 40px;
  border-radius: 6px;
  justify-content: center;
  cursor: pointer;
  margin-top: 10px;
}
.card {
 background-image: url(https://cdn-ssl.s7.disneystore.com/is/image/ShopDisney/mb_story-the-avengers_launch_2x?fit=constrain&cropN=0,0,1,1&fmt=jpeg&qlt=90&wid=1200);
 border-top:2px solid rgb(236, 222, 222);
 border-right:2px solid rgb(255, 254, 254);
 border-bottom:2px solid rgb(255, 245, 245);
 width:42%;
 color: cornsilk;
 height:92%;
}
/* styling movie list */
.name1,.name2,.name3,.name4,.name5{
  font-family: 'Shadows Into Light', cursive;
  font-family: 'Special Elite', cursive;
  font-family: 'Stint Ultra Condensed', cursive;
  font-family: 'Sue Ellen Francisco', cursive;
  font-family: 'Truculenta', sans-serif;
  background: none;
  font-size: 19px;
}
.listandreminder{
  /* //using flex box property for TowatchList and reminder box */
  display: flex;
  flex-direction: row;
  font-size: 20px;
  text-align: center;
  margin-left:20%;
  height:240px;
}
/* for towatchlist */

.todo{
  margin-left:-11.5%;
  margin-right: 26%;
  width: 33%;
  border:2px solid white;
}

ul {
  margin: 0;
  padding: 0;
}

ul li {
  cursor: pointer;
  position: relative;
  padding: 9px 8px 9px 20px;
  list-style-type: none;
  background: #eee;
  font-size: 16px;
  font-weight: bold;
  transition: 0.2s;
  
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}


ul li:hover {
  background: #ddd;
}

ul li.checked {
  background: #888;
  color: #fff;
  text-decoration: line-through;
}

ul li.checked::before {
  content: '';
  position: absolute;
  border-color: #fff;
  border-style: solid;
  border-width: 0 2px 2px 0;
  top: 10px;
  left: 12px;
  transform: rotate(45deg);
  height: 15px;
  width: 9px;
}

.close {
  position: absolute;
  right: 0;
  top: 0;
  padding: 10px 12px 10px 12px;
}

.close:hover {
  background-color: #f44336;
  color: white;
}

.header {
  background-color: #f44336;
  padding: 10px 16px;
  color: white;
  text-align: center;
  height:55%;
  font-size: 16px;
}

.header:after {
  content: "";
  display: table;
  clear: both;
}


.addBtn {
  padding: 7px;
  width: 25%;
  background: #d9d9d9;
  color: rgb(0, 0, 0);
  float: left;
  text-align: center;
  font-size: 16px;
  cursor: pointer;
  transition: 0.3s;
  border-radius: 200px;
  text-transform: uppercase;
  margin-left: 37%;
  font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
}
.addBtn:hover {
  background-color: #bbb;
}
.submit:hover {
  opacity: .5;

}
.submit1:hover {
 opacity: .5;
}
.help{
  border:2px solid white;
  margin-left: -26%;
  width:33%;
  background-image: url(https://5.imimg.com/data5/YX/GL/UV/SELLER-64014672/plain-textured-wallpaper-500x500.jpg);
}
.help1,.help2{
  background: none;
  color: white;
  font-size: large;
  font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
  text-transform: uppercase;
  font-weight: bold;
}

.reminder{
  border:2px solid rgb(95, 142, 180);
  padding: 10px;
  width:40%;
  font-weight: bolder;
  letter-spacing: 3px;
  color: white;
  height: 90%;
}
input[type=text] {
  width: 100%;
  padding: 12px 20px;
  margin: 8px 0;
  display: inline-block;
  border: 2px solid rgb(202, 196, 196);
  border-radius: 20px;
  box-sizing: border-box;
  color: white;
  text-align: center;
  font-weight: bolder;
  height: 35px;
}
#submit1{
  color:rgb(255, 255, 255);
  background-color: rgb(100, 145, 182);
  width: 100%;
  font-family: "Nunito",sans-serif;
  font-weight: bold;
  height: 40px;
  border-radius: 6px;
  justify-content: center;
  cursor: pointer;
  font-size: 20px;
}


.todowhole{
	border:2px solid #E00;	
	width:45%;
  margin-left: -5%;
}

.todotitle{
	color: rgb(81, 255, 0);
	font-size: 40px;
	font-weight: 50;
	text-align: center;
	font-family: 'Hind', sans-serif;
  margin: 0;
  font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
}


.inputDiv{
	display: flex;
	justify-content: center;
	align-items: center;
	width: 45%;
	margin: auto;
  margin-bottom:0;
	background:none;
}

.input3{
    padding: 15px;
    height: 50px;
    border-radius: 25px;
    width: 350px;
    box-sizing: border-box;
    background: none;
    margin-bottom: 0;
    margin-top: 0;
}

.add{
    border: none;
    background: none;
    height: 50px;
    border-radius: 25px;

    color: rgb(236, 202, 202);
    cursor: pointer;
    margin: 0.25rem;
   
    font-weight: bolder;
    font-size: large;
    box-sizing: border-box;
    background-color: rgb(114, 11, 11);
}

.add:hover{
	opacity: 0.7;
}

.container{
	display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: center;
	text-align: center;
	margin-top: 0;
}

.item{
  background:none;
	padding: 0.5rem;

}

.item_input{
	background: none;
	outline: none;
	border: none;
	color: black;
	font-size: 1.4rem;
	width: 245px;
	text-align: center;
	text-transform: uppercase;
	font-weight: bold;
}



.remove{
	border-radius: 25px;
	outline: none;
	border: none;
	color: #E00;
	font-size: 1.4rem;
	font-family: 'Hind', sans-serif;
	cursor: pointer;
}

/* using media query for responsive layout   */
@media (max-width: 1000px) {
  .title{
  font-size: 20px;
  width:90%;
  margin: auto;
}
  .collab{
    flex-direction: column;
    margin: auto;
    height:500px;

  }
  .input {
   width:80%;margin: auto;
   font-size: 30px;
}
.card {
    border:4px solid rgb(88, 84, 84);
    width:80%;
    height:150%;margin: auto;
    margin-top: 30px;
    font-size: 13px;
}

#genre,#lan,.submit{
    font-size: 19px;
}


.listandreminder{
    flex-direction: column;
    margin: auto;

}
.reminder{
    width:80%;
    font-size: 40px;
    margin: auto;
    height:1000%;
}
.reminderheading{
  margin:0;
  font-size: 20px;
}
input[type=text] {
  font-size: 15px;
  text-align: center;
  height: 5vh;
}
#submit1{
  font-size: 20px;
  height:9vh;
}

.todowhole{
   background: none;
   margin: auto;
   margin-top: 12px;
   margin-bottom: 12px;
	 border:3px solid rgb(214, 212, 212);	
	 width:80%;

}

.todotitle{
	color: rgb(81, 255, 0);
	font-size: 28wpx;
	font-weight: 50;
	text-align: center;
	font-family: 'Hind', sans-serif;
  margin: 0;
  font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
}


.inputDiv{
	display: flex;
	justify-content: center;
	align-items: center;
	width: 45%;
	margin: auto;
  margin-bottom:0;
	background:none;
}

.input3{
    padding: 15px;
    height: 50px;
    border-radius: 25px;
    width: 350px;
    box-sizing: border-box;
    background: none;
    margin-bottom: 0;
    margin-top: 0;
}

.add{
    border: none;
    background: none;
    height: 50px;
    border-radius: 25px;
    color: rgb(236, 202, 202);
    cursor: pointer;
    margin: 0.25rem;
    font-weight: bolder;
    font-size: large;
    box-sizing: border-box;
    background-color: rgb(114, 11, 11);
}

.add:hover{
	opacity: 0.7;
}

.container{
	display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: center;
	text-align: center;
	margin-top: 0;
}

.item{
  background:none;
	padding: 0.5rem;

}

.item_input{
	background: none;
	outline: none;
	border: none;
	color: black;
	font-size: 1.4rem;
	width: 245px;
	text-align: center;
	text-transform: uppercase;
	font-weight: bold;
}



.remove{
	border-radius: 25px;
	outline: none;
	border: none;
	color: #E00;
	font-size: 1.4rem;
	font-family: 'Hind', sans-serif;
	cursor: pointer;
}

}
</style>
</head>
<body>
  <div>

<div class="title">
<h1 class="maintitle">WELCOME TO MOVIE MANIA SITE</h1>

<p class="maintitledesc">
  Are You confused about choosing movie...??
  hey wait wait ...Movie Mania is there !!<BR>Just enter movie genre and movie language .
  and Get ur watch list ..Is'nt it easy??</b></p>
</div>
<div class="collab">

  <!-- Taking Inputs -->
  <div class="input">
      <div class="tag"> 
     <label for="lan" id="l" >Choose a language:</label>
      </div>
     <select name="lan" id="lan" class="input_text">
       <option value="en">English</option>
       <option value="hi">Hindi</option>
       <option value="ja">Japanese</option>
       <option value="fr">french</option>
       </select> 
    <br>
    <div class="tag"> 
      <label id="g">Choose a genre:</label>
    </div>
    <select name="genre" id="genre" class="genre">
      <option value="27">Horror</option>
      <option value="53">Thriller</option>
      <option value="28">Action</option>
      <option value="16">Animation</option>
      <option value="12">Adventure</option>
      <option value="35">Comedy</option>
    </select>
     <br>  
       <input type="submit" value="Submit" class="submit">
   </div>
     <!-- Movie List Card -->
  <div class="card">  
      <p class="name1" >Choose genre  and<br>
         <br>language then a list of<br>
        <br>movies will be shown here
      </p>
        <p class="name2" > </p>    
        <p class="name3" > </p>    
        <p class="name4" > </p>    
        <p class="name5" > </p>    
      </div>
</div>
<div class="listandreminder">
 <!-- ToWatchList -->
  <div class="todowhole"> 
     <p class="todotitle">ToWatchList</p>
    <div class="inputDiv">
           <input type="text" class="input3" placeholder="ADD MOVIES :))">
           <button class="add">ADD</button>
    </div>
    <div class="container"></div>
  </div>

  <!-- reminder form -->
<div class="reminder">
  <p style="text-align: center;" class="reminderheading">SET REMINDER</p>
  <form  action="/sign_up" method="POST" >
    <input type="text" class="box" id="name" name="name" placeholder="EMAIL ADDRESS" required />
          <br>
          <input type="text" class="box" id="sub" name="sub" placeholder="ENTER MOVIE NAME" required />
      
   <input type="submit" value="Submit" id="submit1" class="submit1">
    
  </form></div>

</div>

<script >
// for showing trending movies list

//using queryselector to fetch input
var input = document.querySelector('.input_text'); // language choice
var input2 = document.querySelector('.genre');     // genre choice 
var main1 = document.querySelector('.name1');      // 1st movie
var main2 = document.querySelector('.name2');      // 2nd movie
var main3 = document.querySelector('.name3');      // 3rd movie
var main4 = document.querySelector('.name4');      // 4th movie 
var main5 = document.querySelector('.name5');      // 5th movie
var button= document.querySelector('.submit');     // submit button

//using fetch API
button.addEventListener('click', function(){
fetch('https://api.themoviedb.org/3/movie/popular?api_key=4ded14e6763662148114c3c2106f139b')
.then(response => response.json())
.then(data => {
 var j=0;
 var store=[];
  for(let i=0;i<20;i++){
    var size=data.results[i].genre_ids.length;
    for(let k=0;k<size;k++){
    if(input2.value==data['results'][i]['genre_ids'][k] &&  input.value==data['results'][i]['original_language']){
    store.push (data['results'][i]['title']);
    j=j+1;
    if(j==5)
    break;
    }
  }
  }
 //storing in array
  if(store.length>=1){
  main1.innerHTML = store[0];
  }
  if(store.length>=2)
  main2.innerHTML = store[1];
  if(store.length>=3)
  main3.innerHTML = store[2];
  if(store.length>=4)
  main4.innerHTML = store[3];
  if(store.length>=5)
  main5.innerHTML = store[4];
})
})

//functionality for TowatchList

const container = document.querySelector('.container');
var inputValue = document.querySelector('.input3');
const add = document.querySelector('.add');

//checking in local storage first
if(window.localStorage.getItem("todos") == undefined){
     var todos = [];
     window.localStorage.setItem("todos", JSON.stringify(todos));
}
//whatever in local storage ..just parse it
var todosEX = window.localStorage.getItem("todos");
var todos = JSON.parse(todosEX);

//creating items on pressing button
class item{
   	constructor(name){
		this.createItem(name);
	}
    createItem(name){
    	var itemBox = document.createElement('div');
      itemBox.classList.add('item');

    	var input = document.createElement('input');
    	input.type = "text";
    	input.disabled = true;
    	input.value = name;
    	input.classList.add('item_input');

    	var remove = document.createElement('button');
    	remove.classList.add('remove');
    	remove.innerHTML = "REMOVE";
    	remove.addEventListener('click', () => this.remove(itemBox, name));

    	container.appendChild(itemBox);
      itemBox.appendChild(input);
      itemBox.appendChild(remove);

    }



    remove(itemBox, name){
        itemBox.parentNode.removeChild(itemBox);
        let index = todos.indexOf(name);
        todos.splice(index, 1);
        window.localStorage.setItem("todos", JSON.stringify(todos));
    }
}

add.addEventListener('click', check);
window.addEventListener('keydown', (e) => {
	if(e.which == 13){
		check();
	}
})

function check(){
	if(inputValue.value != ""){
		new item(inputValue.value);
        todos.push(inputValue.value);
        window.localStorage.setItem("todos", JSON.stringify(todos));
		inputValue.value = "";
	}
}


for (var v = 0 ; v < todos.length ; v++){
    new item(todos[v]);
}
//default item
if(todos.length==0)
new item('Parasite');

</script>

</body>
</html>
